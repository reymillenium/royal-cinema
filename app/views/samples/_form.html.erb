<%
  sample_model = Sample
  sample = local_assigns.fetch(:sample, Sample.new)
  return_to = local_assigns.fetch(:return_to, request.fullpath)
%>

<div class="card-body">
  <%= form_with(model: sample, local: true) do |form| %>
    <%= hidden_field_tag :return_to, return_to %>

    <div class="form-row">
      <div class="col-md-6">
        <div class="form-group">
          <%= form.label :title, humanize_attribute(sample_model, :full_name), class: 'small mb-1' %>
          <%= form.text_field :title, class: 'form-control py-4', autofocus: true, autocomplete: "title", placeholder: 'Enter the title' %>
        </div>
      </div>
      <div class="col-md-6">
        <div class="form-group">
          <%= form.label :sub_title, humanize_attribute(sample_model, :sub_title), class: 'small mb-1' %>
          <%= form.text_field :sub_title, class: 'form-control py-4', autofocus: true, autocomplete: "sub_title", placeholder: 'Enter the sub title' %>
        </div>
      </div>
    </div>

    <div class="form-row">
      <div class="col-md-6">
        <div class="form-group">
          <%= form.label :url, humanize_attribute(sample_model, :url), class: 'small mb-1' %>
          <%= form.text_field :url, class: 'form-control py-4', autofocus: true, autocomplete: "url", placeholder: 'Enter the url' %>
        </div>
      </div>

      <div class="col-md-6">
        <div class="form-group">
          <%= form.label :image, humanize_attribute(sample_model, :image), class: 'small mb-1' %>

          <%= form.file_field :image, class: 'form-control py-4' %>
          <% if sample.image.attached? %>
            <% image_tag sample, style: "width: 200px; display: block;" %>
          <% end %>

          <%#= form.text_field :pertinent_date, class: 'form-control py-4', autofocus: true, autocomplete: "pertinent_date", placeholder: 'Enter the pertinent date', data: { behavior: "flatpickr" } %>
        </div>
      </div>
    </div>


    <div class="form-group d-flex align-items-center justify-content-between mt-4 mb-0">
      <div class="actions">
        <%= form.submit (sample.persisted? ? t('actions.save') : t('actions.create_and_continue')), name: "save", class: "btn btn-primary btn-sm", data: { disable_with: (sample.persisted? ? t('actions.saving.long') : t('actions.creating.long')) } %>
      </div>
    </div>
  <% end %>
</div>


<script type="text/javascript" charset="utf-8">
    // Prevent from adding attachments into the Trix Editor:
    document.addEventListener("trix-file-accept", function (event) {
        event.preventDefault();
    });

    // $(document).ready(function () {
    //     $('.datepicker').pickadate();
    // });

</script>